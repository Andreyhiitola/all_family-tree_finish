<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>ะกะตะผะตะนะฝะพะต ะดัะตะฒะพ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="app-header">
    <h1>ะกะตะผะตะนะฝะพะต ะดัะตะฒะพ</h1>
    <div class="header-controls">
      <button id="add-person">โ ะะพะฑะฐะฒะธัั</button>
      <button id="show-data-table">๐ ะขะฐะฑะปะธัะฐ</button>
      <button id="import-excel">๐ฅ Excel</button>
      <button id="export-excel">๐ค Excel</button>
      <button id="export-json">๐ค JSON</button>
      <button id="clear-data">๐ ะัะธััะธัั</button>
      <input id="search" placeholder="๐ ะะพะธัะบ...">
    </div>
  </header>

  <main class="app-main">
    <section class="tree-section">
      <div class="tree-container">
        <svg id="tree-svg" width="1200" height="800"></svg>
      </div>
      <div id="auto-save-status">๐พ ะะฒัะพัะพััะฐะฝะตะฝะธะต</div>
    </section>

    <aside class="info-panel">
      <div class="info-placeholder">๐ ะะปะธะบะฝะธัะต ะฟะพ ัะตะปะพะฒะตะบั ะฒ ะดะตัะตะฒะต</div>
      <div class="person-details" style="display:none">
        <h2><span data-field="name"></span> <span data-field="surname"></span></h2>
        <p>ะะพะป: <span data-field="gender"></span></p>
        <p>ะะพะดะธะปัั: <span data-field="birthDate"></span></p>
        <p>ะฃะผะตั: <span data-field="deathDate"></span></p>
        <p>ะะตััะพ: <span data-field="birthPlace"></span></p>
        <p>ะััะตััะฒะพ: <span data-field="middlename"></span></p>
        <div class="person-actions">
          <button id="edit-person">โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั</button>
          <button id="delete-person">๐ ะฃะดะฐะปะธัั</button>
        </div>
      </div>
      <div class="stats">
        <p>๐ฅ ะัะตะณะพ: <span id="total-people">0</span></p>
      </div>
    </aside>
  </main>

  <!-- ะะะะะะะ (ัะพะบัะฐััะฝะฝัะต ะดะปั ะฟัะธะผะตัะฐ) -->
  <div id="person-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="cancel-form">ร</span>
      <h2 id="modal-title">ะะพะฒัะน ัะตะปะพะฒะตะบ</h2>
      <form id="person-form">
        <input type="hidden" id="form-id">
        <div class="form-row"><label>ะะผั</label><input id="form-name" required></div>
        <div class="form-row"><label>ะคะฐะผะธะปะธั</label><input id="form-surname" required></div>
        <div class="form-row"><label>ะะพะป</label><select id="form-gender"><option value="M">ะ</option><option value="F">ะ</option></select></div>
        <div class="form-row"><label>ะัะตั</label><select id="form-father"><option>โ</option></select></div>
        <div class="form-row"><label>ะะฐัั</label><select id="form-mother"><option>โ</option></select></div>
        <div class="form-row"><label>ะกัะฟััะณ</label><select id="form-spouse"><option>โ</option></select></div>
        <button type="submit">๐พ ะกะพััะฐะฝะธัั</button>
      </form>
    </div>
  </div>

  <div id="data-table-modal" class="modal">
    <div class="modal-content modal-large">
      <span class="close">ร</span>
      <h2>๐ ะขะฐะฑะปะธัะฐ</h2>
      <table id="data-table"><thead><tr><th>ID</th><th>ะะผั</th><th>ะะตะนััะฒะธั</th></tr></thead><tbody></tbody></table>
    </div>
  </div>

  <!-- โ ะะะะะะฌะะซะ ะะะะะะะขะะะ -->
  <script src="d3.v7.min.js"></script>
  <script src="xlsx.full.min.js"></script>
  <script src="FileSaver.min.js"></script>

  <!-- ะขะะะ ะคะะะะซ -->
  <script src="src/core/DataManager.js"></script>
  <script src="src/core/FamilyTree.js"></script>
  <script src="src/core/TreeVisualizer.js"></script>
  <script src="src/utils/importExcel.js"></script>
  <script src="src/utils/exportExcel.js"></script>
  <script src="src/utils/exportJson.js"></script>
  <script src="src/ui/notifications.js"></script>
  <script src="src/ui/forms.js"></script>
  <script src="src/ui/table.js"></script>
  <script src="src/ui/modals.js"></script>
  <script src="src/ui/app.js"></script>
</body>
</html>
